-- 文字コード設定
SET NAMES utf8mb4;
SET CHARACTER SET utf8mb4;
SET SESSION collation_connection = utf8mb4_unicode_ci;

-- テストデータの挿入
USE connecthub;

-- ユーザー（パスワードはすべて 'password' の bcrypt ハッシュ）
INSERT INTO users (name, email, password, department, avatar_url, role) VALUES
('管理者 太郎', 'admin@example.com', '$2b$10$HqCNTS.3TJ5cTsCZM8A7YeVyG29Nm7QBJyF/8oKR.OGzSA8wVDrTK', 'IT部', '/avatars/admin.jpg', 'admin'),
('モデレータ 花子', 'moderator@example.com', '$2b$10$HqCNTS.3TJ5cTsCZM8A7YeVyG29Nm7QBJyF/8oKR.OGzSA8wVDrTK', '人事部', '/avatars/moderator.jpg', 'moderator'),
('山田 太郎', 'yamada@example.com', '$2b$10$HqCNTS.3TJ5cTsCZM8A7YeVyG29Nm7QBJyF/8oKR.OGzSA8wVDrTK', '営業部', '/avatars/yamada.jpg', 'contributor'),
('佐藤 健', 'sato@example.com', '$2b$10$HqCNTS.3TJ5cTsCZM8A7YeVyG29Nm7QBJyF/8oKR.OGzSA8wVDrTK', '開発部', '/avatars/sato.jpg', 'contributor'),
('鈴木 一郎', 'suzuki@example.com', '$2b$10$HqCNTS.3TJ5cTsCZM8A7YeVyG29Nm7QBJyF/8oKR.OGzSA8wVDrTK', 'マーケティング部', '/avatars/suzuki.jpg', 'user'),
('田中 美咲', 'tanaka@example.com', '$2b$10$HqCNTS.3TJ5cTsCZM8A7YeVyG29Nm7QBJyF/8oKR.OGzSA8wVDrTK', '広報部', '/avatars/tanaka.jpg', 'user'),
('高橋 健太', 'takahashi@example.com', '$2b$10$HqCNTS.3TJ5cTsCZM8A7YeVyG29Nm7QBJyF/8oKR.OGzSA8wVDrTK', '営業部', '/avatars/takahashi.jpg', 'user'),
('伊藤 洋子', 'ito@example.com', '$2b$10$HqCNTS.3TJ5cTsCZM8A7YeVyG29Nm7QBJyF/8oKR.OGzSA8wVDrTK', '人事部', '/avatars/ito.jpg', 'user'),
('渡辺 和也', 'watanabe@example.com', '$2b$10$HqCNTS.3TJ5cTsCZM8A7YeVyG29Nm7QBJyF/8oKR.OGzSA8wVDrTK', 'IT部', '/avatars/watanabe.jpg', 'user'),
('小林 直樹', 'kobayashi@example.com', '$2b$10$HqCNTS.3TJ5cTsCZM8A7YeVyG29Nm7QBJyF/8oKR.OGzSA8wVDrTK', '開発部', '/avatars/kobayashi.jpg', 'user');

-- カテゴリ
INSERT INTO categories (name, description, is_active) VALUES
('お知らせ', '会社からの公式なお知らせや通知を掲載します', TRUE),
('プロジェクト', '社内の各種プロジェクトに関する情報を共有します', TRUE),
('社員インタビュー', '社員の仕事や趣味などを紹介するインタビュー記事です', TRUE),
('イベント', '社内イベントや外部イベントの情報を掲載します', TRUE),
('社内システム', '業務システムや社内ツールに関する情報です', TRUE),
('募集', '社内での募集やプロジェクトメンバー募集などの情報です', TRUE),
('マーケティング部', 'マーケティング部からの情報発信です', TRUE),
('営業部', '営業部からの情報発信です', TRUE),
('開発部', '開発部からの情報発信です', TRUE),
('人事部', '人事部からの情報発信です', TRUE),
('広報部', '広報部からの情報発信です', TRUE),
('IT部', 'IT部からの情報発信です', TRUE);

-- 投稿
INSERT INTO posts (title, content, author_id, is_pinned) VALUES
('【重要】新しい社内報システムのβ版がリリースされました！', '長らくお待たせしました。本日より新しい社内報システム「ConnectHub」のβ版をリリースします。みなさまからのフィードバックをお待ちしています。\n\n■主な機能\n・記事投稿\n・コメント・いいね機能\n・カテゴリ別表示\n・ピン留め記事\n\n是非積極的に使ってみてください！', 1, TRUE),
('4月からの新プロジェクトメンバー募集', '次期基幹システム開発プロジェクトのメンバーを募集します。\n\n【募集職種】\n・プロジェクトマネージャー：1名\n・バックエンドエンジニア：2名\n・フロントエンドエンジニア：2名\n・QAエンジニア：1名\n\n興味のある方は人事部の伊藤までご連絡ください。', 4, FALSE),
('社員インタビュー：マーケティング部 鈴木さん', '今回は、マーケティング部の鈴木さんにインタビューしました。入社3年目の鈴木さんの仕事への取り組み方や、プライベートでの過ごし方などについてお聞きしました。\n\n--Q. マーケティング部でのお仕事内容を教えてください\n\n主にSNSを活用したプロモーション施策の企画・運用を担当しています。日々のSNS投稿コンテンツの作成から、キャンペーンの企画立案、効果測定まで幅広く携わっています...', 6, FALSE),
('夏季休暇のお知らせ', '今年の夏季休暇は8月11日（木）～8月17日（水）となります。\n\n休暇前後は業務が集中することが予想されますので、計画的な業務遂行をお願いいたします。\n\nなお、緊急連絡先は各部署の責任者にご確認ください。', 2, FALSE),
('【開発部】新技術勉強会のご案内', '開発部では、最新のWeb技術に関する勉強会を開催します。\n\n日時：4月15日（金）18:00～19:30\n場所：会議室A\nテーマ：「最新のReactパターンとパフォーマンス最適化」\n講師：佐藤\n\n開発部以外の方も大歓迎です！参加希望の方は、開発部の佐藤までご連絡ください。', 4, FALSE),
('新入社員歓迎会を開催しました', '先週金曜日に新入社員歓迎会を開催しました！今年は5名の新入社員が入社し、各部署に配属されています。\n\n歓迎会では自己紹介タイムや部署紹介、ゲームなどで盛り上がりました。写真は社内規定によりアップロードできませんが、とても楽しい会になりました！\n\n新入社員の皆さん、これからよろしくお願いします！', 8, FALSE),
('社内アンケートへのご協力のお願い', '働き方改革の一環として、在宅勤務に関するアンケートを実施します。\n\n回答期限：4月10日（月）\n回答方法：社内メールで送付されるリンクからアクセスしてください\n\n皆様のご意見を今後の施策に反映させていただきますので、ぜひご協力をお願いいたします。', 2, FALSE),
('【IT部】セキュリティ講習会の実施について', '情報セキュリティ意識向上のため、全社員対象のセキュリティ講習会を実施します。\n\n日時：4月20日（水）15:00～16:00\n場所：大会議室\n内容：最新のセキュリティ脅威と対策について\n\n参加必須となりますので、スケジュール調整をお願いいたします。欠席される場合は、後日動画視聴による受講が必要です。', 1, FALSE),
('営業部Q1成績報告会を実施しました', '先日、2025年Q1の営業成績報告会を実施しました。\n\n今期は全体として目標の105%を達成し、特に西日本エリアが好調でした。\n\nMVPは高橋さんに決定し、表彰式を行いました。おめでとうございます！\n\n引き続きQ2も頑張っていきましょう！', 3, FALSE),
('社内報システムに関するフィードバック募集', '現在ご利用いただいている社内報システム（ConnectHub）について、ユーザー体験向上のためのフィードバックを募集します。\n\n良い点・改善してほしい点など、どんな些細なことでも構いませんので、コメント欄にご意見をお寄せください。\n\nいただいたフィードバックは今後のアップデートに反映していきます。', 9, FALSE);

-- 投稿カテゴリ（修正：category_nameからcategory_idへ）
INSERT INTO post_categories (post_id, category_id) VALUES
(1, 1), -- お知らせ
(1, 5), -- 社内システム
(2, 6), -- 募集
(2, 2), -- プロジェクト
(3, 3), -- 社員インタビュー
(3, 7), -- マーケティング部
(4, 1), -- お知らせ
(4, 10), -- 人事部
(5, 4), -- イベント
(5, 9), -- 開発部
(6, 4), -- イベント
(6, 10), -- 人事部
(7, 1), -- お知らせ
(7, 10), -- 人事部
(8, 1), -- お知らせ
(8, 12), -- IT部
(9, 8), -- 営業部
(10, 5), -- 社内システム
(10, 12); -- IT部

-- いいね
INSERT INTO likes (post_id, user_id) VALUES
(1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (1, 9), (1, 10),
(2, 1), (2, 3), (2, 6), (2, 8),
(3, 1), (3, 2), (3, 4), (3, 7), (3, 9),
(4, 3), (4, 5), (4, 6), (4, 8), (4, 10),
(5, 1), (5, 2), (5, 3), (5, 7), (5, 9), (5, 10),
(6, 1), (6, 2), (6, 3), (6, 4), (6, 5),
(7, 3), (7, 4), (7, 9),
(8, 2), (8, 3), (8, 5), (8, 6), (8, 7), (8, 10),
(9, 1), (9, 2), (9, 4), (9, 8), (9, 10),
(10, 2), (10, 3), (10, 4), (10, 5), (10, 6), (10, 7);

-- コメント
INSERT INTO comments (post_id, author_id, content) VALUES
(1, 2, '待っていました！早速使ってみます。'),
(1, 4, 'デザインが新しくなって見やすくなりましたね。'),
(1, 7, '使いやすそうです！ピン留め機能が特に便利そうですね。'),
(2, 8, '興味があります。詳細を教えてください。'),
(2, 4, '@伊藤さん、詳しい募集要項はメールでお送りしますね。'),
(3, 1, '鈴木さんのインタビュー、大変興味深かったです。'),
(3, 5, '自分も次回インタビュー受けてみたいです！'),
(3, 6, 'ありがとうございます！インタビューを受けてみて、改めて自分の仕事を振り返る良い機会になりました。'),
(4, 3, '了解しました。計画的に業務を進めていきます。'),
(5, 10, '参加したいです！申し込み方法を教えてください。'),
(5, 4, '@小林さん、開発部のSlackチャンネルでも案内していますが、直接メールでも申し込みできますよ。'),
(6, 1, '新入社員の皆さん、ようこそ！一緒に頑張りましょう。'),
(6, 8, '準備から進行まで大変でしたが、とても楽しい会になりました！'),
(7, 3, 'アンケート回答しました。今後の施策に期待しています。'),
(8, 5, '参加します。セキュリティ意識向上は大切ですね。'),
(8, 9, '資料は事前に共有されますか？'),
(8, 1, '@渡辺さん、はい、講習会の2日前に資料を共有する予定です。'),
(9, 7, '高橋さん、おめでとうございます！'),
(9, 3, 'チームの皆さんのおかげです。Q2も頑張ります！'),
(10, 6, 'カテゴリ機能がとても便利です。モバイル対応もぜひお願いします。'),
(10, 2, 'フィードバックありがとうございます。モバイル対応も検討中です。'),
(10, 3, '検索機能をもう少し強化してほしいです。');
